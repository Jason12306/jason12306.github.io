import{_ as i,c as a,o as t,a2 as e}from"./chunks/framework.CnKoBJ9A.js";const k=JSON.parse('{"title":"Git 克隆指定 SSH 私钥方法总结","description":"","frontmatter":{},"headers":[],"relativePath":"articles/Git/Git克隆指定SSH私钥方法.md","filePath":"articles/Git/Git克隆指定SSH私钥方法.md"}'),n={name:"articles/Git/Git克隆指定SSH私钥方法.md"};function h(l,s,o,p,d,r){return t(),a("div",null,s[0]||(s[0]=[e('<h1 id="git-克隆指定-ssh-私钥方法总结" tabindex="-1">Git 克隆指定 SSH 私钥方法总结 <a class="header-anchor" href="#git-克隆指定-ssh-私钥方法总结" aria-label="Permalink to &quot;Git 克隆指定 SSH 私钥方法总结&quot;">​</a></h1><p>在使用 <code>git clone</code> 时，如果需要指定特定的 SSH 私钥（例如非默认路径的私钥），可以通过以下方法实现：</p><hr><h3 id="方法-1-通过-git-ssh-command-环境变量-推荐" tabindex="-1">方法 1：通过 <code>GIT_SSH_COMMAND</code> 环境变量（推荐） <a class="header-anchor" href="#方法-1-通过-git-ssh-command-环境变量-推荐" aria-label="Permalink to &quot;方法 1：通过 `GIT_SSH_COMMAND` 环境变量（推荐）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">GIT_SSH_COMMAND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ssh -i ~/.ssh/custom_key&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@host:repo.git</span></span></code></pre></div><ul><li><strong>说明</strong>：直接设置 <code>GIT_SSH_COMMAND</code> 环境变量，强制 Git 使用指定的私钥。</li><li><strong>适用场景</strong>：临时单次克隆操作。</li></ul><hr><h3 id="方法-2-通过-c-参数指定-ssh-命令" tabindex="-1">方法 2：通过 <code>-c</code> 参数指定 SSH 命令 <a class="header-anchor" href="#方法-2-通过-c-参数指定-ssh-命令" aria-label="Permalink to &quot;方法 2：通过 `-c` 参数指定 SSH 命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core.sshCommand=&quot;ssh -i ~/.ssh/custom_key&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@host:repo.git</span></span></code></pre></div><ul><li><strong>说明</strong>：通过 Git 的 <code>-c</code> 参数动态设置 <code>core.sshCommand</code>，指定私钥路径。</li><li><strong>适用场景</strong>：单次克隆操作，无需提前设置环境变量。</li></ul><hr><h3 id="方法-3-通过-ssh-配置文件-长期配置" tabindex="-1">方法 3：通过 SSH 配置文件（长期配置） <a class="header-anchor" href="#方法-3-通过-ssh-配置文件-长期配置" aria-label="Permalink to &quot;方法 3：通过 SSH 配置文件（长期配置）&quot;">​</a></h3><ol><li><strong>编辑 SSH 配置文件</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/config</span></span></code></pre></div></li><li><strong>添加以下内容</strong>（示例配置）：<div class="language-config vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">config</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Host custom-host-alias  # 自定义主机别名</span></span>\n<span class="line"><span>  HostName github.com  # 实际仓库主机地址</span></span>\n<span class="line"><span>  User git             # Git 用户名</span></span>\n<span class="line"><span>  IdentityFile ~/.ssh/custom_key  # 指定私钥路径</span></span></code></pre></div></li><li><strong>克隆时使用别名</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> custom-host-alias:username/repo.git</span></span></code></pre></div></li></ol><ul><li><strong>适用场景</strong>：长期使用特定私钥，避免每次手动指定。</li></ul><hr><h3 id="方法-4-通过-ssh-agent-临时加载私钥" tabindex="-1">方法 4：通过 <code>ssh-agent</code> 临时加载私钥 <a class="header-anchor" href="#方法-4-通过-ssh-agent-临时加载私钥" aria-label="Permalink to &quot;方法 4：通过 `ssh-agent` 临时加载私钥&quot;">​</a></h3><ol><li><strong>启动 <code>ssh-agent</code></strong>（如果未运行）：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eval</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span></span></code></pre></div></li><li><strong>添加私钥到代理</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/custom_key</span></span></code></pre></div></li><li><strong>直接克隆</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@host:repo.git</span></span></code></pre></div></li></ol><ul><li><strong>说明</strong>：<code>ssh-agent</code> 会管理已加载的私钥，Git 自动使用。</li><li><strong>适用场景</strong>：临时使用私钥，避免硬编码路径。</li></ul><hr><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ol><li><strong>私钥权限</strong>：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/custom_key</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 确保私钥权限为 600</span></span></code></pre></div></li><li><strong>Windows 路径</strong>： <ul><li>使用绝对路径（如 <code>C:/Users/User/.ssh/custom_key</code>）并用双引号包裹：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core.sshCommand=&quot;ssh -i </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">C:\\Users\\User\\.ssh\\custom_key</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@host:repo.git</span></span></code></pre></div></li></ul></li></ol><hr><p>选择适合场景的方法即可高效指定 SSH 私钥。</p>',23)]))}const g=i(n,[["render",h]]);export{k as __pageData,g as default};
