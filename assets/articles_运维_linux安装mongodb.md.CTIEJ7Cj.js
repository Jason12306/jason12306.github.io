import{_ as s,c as i,o as n,a2 as l}from"./chunks/framework.CnKoBJ9A.js";const g=JSON.parse('{"title":"linux 安装 mongodb","description":"","frontmatter":{},"headers":[],"relativePath":"articles/运维/linux安装mongodb.md","filePath":"articles/运维/linux安装mongodb.md"}'),t={name:"articles/运维/linux安装mongodb.md"};function e(o,a,h,p,r,d){return n(),i("div",null,a[0]||(a[0]=[l(`<h1 id="linux-安装-mongodb" tabindex="-1">linux 安装 mongodb <a class="header-anchor" href="#linux-安装-mongodb" aria-label="Permalink to &quot;linux 安装 mongodb&quot;">​</a></h1><h2 id="下载安装" tabindex="-1">下载安装 <a class="header-anchor" href="#下载安装" aria-label="Permalink to &quot;下载安装&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-7.0.14.tgz</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 下载</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodb-linux-x86_64-rhel70-7.0.14.tgz</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 解压</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodb-linux-x86_64-rhel70-7.0.14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/mongodb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 将解压包拷贝到指定目录</span></span></code></pre></div><ul><li><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noreferrer">官方下载地址</a></li></ul><h2 id="添加-path-路径" tabindex="-1">添加 path 路径 <a class="header-anchor" href="#添加-path-路径" aria-label="Permalink to &quot;添加 path 路径&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /usr/local/mongodb 为 MongoDB 的安装路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/local/mongodb/bin:$PATH</span></span></code></pre></div><h2 id="创建数据库目录" tabindex="-1">创建数据库目录 <a class="header-anchor" href="#创建数据库目录" aria-label="Permalink to &quot;创建数据库目录&quot;">​</a></h2><p>MongoDB 的数据存储在 data 目录的 db 目录下，但是这个目录在安装过程不会自动创建，所以你需要手动创建 data 目录，并在 data 目录中创建 db 目录。<br><code>mkdir -p /data/db</code></p><h2 id="命令行中运行-mongodb-服务" tabindex="-1">命令行中运行 MongoDB 服务 <a class="header-anchor" href="#命令行中运行-mongodb-服务" aria-label="Permalink to &quot;命令行中运行 MongoDB 服务&quot;">​</a></h2><p>命令行中执行 mongo 安装目录中的 bin 目录执行 mongod 命令来启动 mongdb 服务。<br><code>./mongod --dbpath=/data/mongo/db --logpath=/data/mongo/logs/mongod.log</code></p><h2 id="后台启动-mongo-服务-常驻-fork" tabindex="-1">后台启动 mongo 服务（常驻 --fork） <a class="header-anchor" href="#后台启动-mongo-服务-常驻-fork" aria-label="Permalink to &quot;后台启动 mongo 服务（常驻 --fork）&quot;">​</a></h2><p><code>./mongod --dbpath=/data/mongo/db --fork --logpath=/data/mongo/logs/mongod.log</code></p><blockquote><p>后台启动成功除非手动关掉 mongo 服务或者关机等意外，否则 mongo 服务一直是开启状态</p></blockquote><h2 id="以配置文件方式启动" tabindex="-1">以配置文件方式启动 <a class="header-anchor" href="#以配置文件方式启动" aria-label="Permalink to &quot;以配置文件方式启动&quot;">​</a></h2><ul><li><code>./bin/mongod -f MongoDB.conf</code></li><li><a href="https://blog.csdn.net/cold___play/article/details/130549381" target="_blank" rel="noreferrer">配置说明</a></li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/reference/configuration-options/" target="_blank" rel="noreferrer">配置说明-官方</a></li></ul><p>示例（已过时）</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 数据存储目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dbpath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/data/mongo/db</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 日志目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logpath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/data/mongo/logs/mongod.log</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#以追加的方式记录日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">logappend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#端口号 默认为27017</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">27017</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#以后台方式运行进程</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fork</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#开启用户认证</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">auth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#mongodb所绑定的ip地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind_ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0.0.0</span></span></code></pre></div><h2 id="设置用户名密码" tabindex="-1">设置用户名密码 <a class="header-anchor" href="#设置用户名密码" aria-label="Permalink to &quot;设置用户名密码&quot;">​</a></h2><ul><li><a href="https://www.jb51.net/article/284523ehn.htm" target="_blank" rel="noreferrer">MongoDB 数据库设置账号密码完整步骤</a></li></ul><p>或</p><ul><li>使用 robo3t 客户端连接后，在<code>System -&gt; admin 数据库</code>中添加用户</li></ul><h2 id="mongodb-启动报错-找不到共享库文件-libcrypto-so-10" tabindex="-1">MongoDB 启动报错：找不到共享库文件 libcrypto.so.10 <a class="header-anchor" href="#mongodb-启动报错-找不到共享库文件-libcrypto-so-10" aria-label="Permalink to &quot;MongoDB 启动报错：找不到共享库文件 libcrypto.so.10&quot;">​</a></h2><ul><li>安装兼容库 <code>yum install compat-openssl10</code><br><a href="https://blog.csdn.net/xjxy52o/article/details/136657383" target="_blank" rel="noreferrer">参考资料 - MongoDB 启动报错：找不到共享库文件 libcrypto.so.10</a></li></ul><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><ul><li><a href="https://www.runoob.com/mongodb/mongodb-linux-install.html" target="_blank" rel="noreferrer">菜鸟教程</a></li></ul>`,25)]))}const c=s(t,[["render",e]]);export{g as __pageData,c as default};
